<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attendance</title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">  
    <!-- My CSS -->
    <link rel="stylesheet" href="./style/custom.css">    
</head>

<body id="#tabla-senate">

  <main id="app">
  <header class="d-flex justify-content-around">
    <img src="./img/img4.png" alt="Logo Data Insight Group">
    <h1 class="display-1">Data Insight Group Logo</h1>
    
    <a class="display-5 mail-header" href="http://mailto:info@datainsightgroup.net">✉Info@DataInsightGroup.net</a>
  </header>
    
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="./index.html">Home</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span class="text-cyan">Congress 113</span>
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="./house.html">House</a></li>
              <li><a class="dropdown-item" href="./senate.html">Senate</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span class="text-cyan">Attendance</span>
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="./house-attendance.html">House</a></li>
              <li><a class="dropdown-item" href="./senate-attendance.html">Senate</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span class="text-cyan">Party Loyalty</span>
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="./house-party-loyalty.html">House</a></li>
              <li><a class="dropdown-item" href="#">Senate</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="d-flex">
    <div class="text-margin col-6">
      <h2>Party Loyalty</h2>
      <p>Those who consider themselves to be strong partisans, strong Democrats and strong Republicans respectively, tend to be the most faithful in voting for their party's nominee for office and legislation that backs their party's agenda. </p>
    
    </div>
    <div class="col-6 w-50">
    <h2 class="text-center">Senate at a glance</h2>
    <table class="table table-hover table-bordered table-sm" id="table-loyalty">
      <thead>
        <tr>
          <th>Party</th>
          <th>No. of Reps</th>
          <th>&percnt;Voted w/Party</th>
        </tr>  
      </thead>
      <tbody id="table-body-count">
        <tr>
          <th>Democrats</th>
          <th>{{stats.cMembersD.length}}</th>
          <th>{{stats.gVotedPartyD}}</th>
        </tr>  

        <tr>
          <th>Republicans</th>
          <th>{{stats.cMembersR.length}}</th>
          <th>{{stats.gVotedPartyR}}</th>
        </tr>  

        <tr>
          <th>Independents</th>
          <th>{{stats.cMembersID.length}}</th>
          <th>{{stats.gVotedPartyID}}</th>
        </tr>  

        <tr>
          <th>Total</th>
          <th>{{stats.cMembersTotal}}</th>
          <th>{{stats.gTotalVotedParty}}</th>
        </tr> 
      </tbody>
    </table>
    </div>
  </div>

  <hr class="w-100">

  <div class="tablas-loyalty d-flex">
    <div>
      <h3 class="text-center">Least Loyal (Bottom 10% of Party)</h3>
    <table class="table table-hover table-bordered table-sm col-6 w-75">
      <thead>
        <tr>
          <th>Name</th>
          <th>No. Party Votes</th>
          <th>&percnt; Party Votes</th>
        </tr>  
      </thead>
      <tbody class="table-least-loyalty">
        <tr v-for="member in getLoyal('LEAST')">
          <td>
            <a href="{{member.url}}" target="_blank">{{member.first_name}} {{member.middle_name ? member.middle_name : ""}} {{member.last_name}}<a>  
          </td>
          <td>
            {{Math.round((member.total_votes / 100) * member.votes_with_party_pct)}}
          </td>
          <td>
            {{member.votes_with_party_pct}}%
          </td>
        </tr>
      </tbody>
    </table>
    </div>

    <div>
      <h3 class="text-center">Most Loyal (Top 10% of Party)</h3>
    <table class="table table-hover table-bordered table-sm col-6 w-75">
      <thead>
        <tr>
          <th>Name</th>
          <th>No. Party Votes</th>
          <th>&percnt; Party Votes</th>
        </tr>  
      </thead>
      <tbody class="table-most-loyalty">
        <tr v-for="member in getLoyal('MOST')">
          <td>
            <a href="{{member.url}}" target="_blank">{{member.first_name}} {{member.middle_name ? member.middle_name : ""}} {{member.last_name}}<a>  
          </td>
          <td>
            {{Math.round((member.total_votes / 100) * member.votes_with_party_pct)}}
          </td>
          <td>
            {{member.votes_with_party_pct}}%
          </td>
        </tr>
      </tbody>
    </table>
    </div>
  </div>
</main>

  <footer class="d-flex justify-content-center">
    <p class="text-center text-footer">© 2021 Data Insight Group | All Rights Reserved</p>
  </footer>

  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/vue@3"></script>
  <script src="./scripts/base.js"></script>
</body>
</html>